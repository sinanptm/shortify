# üîó Shortify - URL Shortener API

[![TypeScript](https://img.shields.io/badge/TypeScript-4.0-blue.svg)](https://www.typescriptlang.org/)
[![Node.js](https://img.shields.io/badge/Node.js-22.x-green.svg)](https://nodejs.org/)
[![Express](https://img.shields.io/badge/Express-4.x-lightgrey.svg)](https://expressjs.com/)
[![Redis](https://img.shields.io/badge/Redis-4.x-red.svg)](https://redis.io/)
[![Jest](https://img.shields.io/badge/Jest-29.x-orange.svg)](https://jestjs.io/)
[![Passport](https://img.shields.io/badge/Passport-0.6-green.svg)](https://www.passportjs.org/)

## üìã Table of Contents

- [Overview](#overview)
- [Features](#features)
- [Prerequisites](#prerequisites)
- [Authentication Setup](#authentication-setup)
- [Tech Stack](#tech-stack)
- [Getting Started](#getting-started)
- [Environment Variables](#environment-variables)
- [API Documentation](#api-documentation)

## üåê Live Endpoints

- **Authentication Endpoint**: [https://shortify.avm-ayurvedic.online/api/auth/google](https://shortify.avm-ayurvedic.online/api/auth/google)
- **API Documentation**: [Postman Documentation](https://documenter.getpostman.com/view/32102231/2sAYHzGiKx)

## Prerequisites

Before running the application, ensure you have the following installed:

- Node.js 22.x or higher
- Redis Server (Install from [Redis Official Documentation](https://redis.io/docs/getting-started/))
- MongoDB
- Yarn package manager
- Google Cloud Console account (for OAuth credentials)

## üîê Authentication Setup

### Google OAuth Configuration

1. **Create Google Cloud Project**:
   - Go to [Google Cloud Console](https://console.cloud.google.com/)
   - Create a new project or select existing one
   - Enable the Google+ API and Google OAuth API

2. **Configure OAuth Consent Screen**:
   - Go to "OAuth consent screen"
   - Set application name, authorized domains
   - Add necessary scopes (email, profile)

3. **Get OAuth Credentials**:
   - Go to "Credentials" ‚Üí "Create Credentials" ‚Üí "OAuth Client ID"
   - Choose "Web application"
   - Add authorized origins (e.g., `http://localhost:8000`, `https://your-domain.com`)
   - Add authorized redirect URIs:
     ```
     http://localhost:8000/api/auth/google/callback
     https://your-domain.com/api/auth/google/callback
     ```
   - Save your Client ID and Client Secret

### Authentication Flow

1. **Browser-side Authentication**:
   - User initiates Google login from the client application
   - Client redirects to `/api/auth/google`
   - Google OAuth consent screen is displayed
   - User authenticates with Google

2. **Server Processing**:
   ```mermaid
   sequenceDiagram
      Client->>Server: Initiate Google OAuth
      Server->>Google: Redirect to consent
      Google->>Server: Return user data
      Server->>Client: Set HTTP-only cookie & return JWT
   ```

3. **Token Usage**:
   ```javascript
   // Cookie-based auth (automatic)
   fetch('/api/urls', {
     credentials: 'include' // Sends cookies automatically
   });

   // Bearer token auth
   fetch('/api/urls', {
     headers: {
       'Authorization': `Bearer ${jwt}`
     }
   });
   ```

[Previous sections remain the same...]

## ‚öôÔ∏è Environment Variables

```env
# Server Configuration
PORT=8000
NODE_ENV=production

# Database
MONGODB_URI=mongodb://localhost:27017/shortify
REDIS_URL=redis://localhost:6379

# Authentication
GOOGLE_CLIENT_ID=your_google_client_id           # From Google Cloud Console
GOOGLE_CLIENT_SECRET=your_google_client_secret   # From Google Cloud Console

# Security
JWT_SECRET=your_strong_jwt_secret               # Generate a strong random string
COOKIE_SECRET=your_strong_cookie_secret         # Generate a strong random string

# Rate Limiting
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100

# Logging
LOG_LEVEL=info
```

[Rest of the sections remain the same...]

## üìö API Documentation

For detailed API documentation and endpoints, please visit our [Postman Documentation](https://documenter.getpostman.com/view/32102231/2sAYHzGiKx).